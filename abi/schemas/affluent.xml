<abi>
    <types>
        deposit_context#f9471134 asset_address:MsgAddress from_address:MsgAddress amount:Coins
        forward_ton_amount:Coins forward_payload:(Maybe ^Cell) = DepositContext;

        withdraw_context#cb03bfaf asset_address:MsgAddress from_address:MsgAddress amount:Coins
        forward_ton_amount:Coins forward_payload:(Maybe ^Cell) = WithdrawContext;
    </types>

    <!-- https://tonviewer.com/EQD3F7Ex_uxBjxEub8FgeDoYYUSIbAUVyehCb_JSiCVL369T  -->
    <interface name="affluent_vault">
        <get_method name="get_jetton_data"/>
        <get_method name="get_wallet_address"/>
        <get_method name="get_vault_data" version="affluent"/>
        <get_method name="is_strategy_vault" version="affluent"/>
        <get_method name="get_rfq_address" version="affluent"/>

        <msg_in>
            <internal name="take_aggregated_data_deposit"/>
            <internal name="take_aggregated_data_withdraw"/>
        </msg_in>

        <msg_out>
            <internal name="provide_aggregated_data_deposit"/>
            <internal name="provide_aggregated_data_withdraw"/>
        </msg_out>
    </interface>

    <get_method name="get_vault_data" version="affluent">
        <output version="affluent" fixed_length="true">
            <tuple name="affluent_vault_data">
                <slice name="owner_address">msgaddress</slice>
                <cell name="assets">any</cell> <!--                todo: what to do with hashmaps?-->
                <cell name="factorial_pools">any</cell>
                <int name="aggregator_index">int257</int>
                <int name="rfq_index">int257</int>
                <int name="total_supply">int257</int>
                <int name="collected_management_fee">int257</int>
                <int name="collected_protocol_fee">int257</int>
                <int name="is_executing_strategy">bool</int>
                <cell name="config">cell</cell>
                <cell name="code">cell</cell>
                <slice name="protocol_fee_manager_address">msgaddress</slice>
                <slice name="manager">msgaddress</slice>
                <int name="is_private_vault">bool</int>
                <int name="deposit_close_timestamp">int64</int>
                <int name="withdraw_close_timestamp">int64</int>
                <cell name="whitelisted_minters" nullable="true">cell</cell>
                <int name="last_collected_time">int64</int>
                <int name="management_fee_rate_per_year">int32</int>
                <int name="protocol_fee_rate_per_year">int32</int>
                <int name="max_leverage_ratio">int32</int>
                <cell name="asset_wallet_dict">any</cell>
                <cell name="wallet_asset_dict">any</cell>
                <cell name="rfq_config" nullable="true">cell</cell>
                <cell name="gas_config" nullable="true">cell</cell>
                <cell name="oracle_config" nullable="true">cell</cell>
                <cell name="management_fee_recipient_address" nullable="true">msgaddress</cell>
                <cell name="guardian_address" nullable="true">msgaddress</cell>
                <int name="timelock">int257</int>
                <int name="pending_owner_action_index">int257</int>
                <int name="pending_owner_action_count">int257</int>
                <cell name="pending_owner_action" nullable="true">msgaddress</cell>
                <cell name="wallet_code">cell</cell>
                <cell name="data_aggregator_code">cell</cell>
                <cell name="rfq_code">cell</cell>
                <cell name="content">cell</cell>
            </tuple>
        </output>
    </get_method>
    <get_method name="is_strategy_vault" version="affluent">
        <output version="affluent" fixed_length="true">
            <int name="is_strategy_vault">bool</int>
        </output>
    </get_method>
    <get_method name="get_rfq_address" version="affluent">
        <input version="affluent">
            <int name="index">int257</int>
        </input>
        <output version="affluent" fixed_length="true">
            <slice name="auction_address">msgaddress</slice>
        </output>
    </get_method>

    <internal name="provide_aggregated_data_deposit">
        provide_aggregated_data#b0c69ffe query_id:uint64 asset_requests:(Maybe ^Cell) pool_requests:(Maybe ^Cell)
        vault_requests:(Maybe ^Cell) context_payload:DepositContext = InMsgBody;
    </internal>

    <internal name="provide_aggregated_data_withdraw">
        provide_aggregated_data#b0c69ffe query_id:uint64 asset_requests:(Maybe ^Cell) pool_requests:(Maybe ^Cell)
        vault_requests:(Maybe ^Cell) context_payload:WithdrawContext = InMsgBody;
    </internal>

    <internal name="take_aggregated_data_deposit">
        take_aggregated_data_deposit#ab7bef17 query_id:uint64 index:Coins asset_data:(Maybe ^Cell)
        pool_data:(Maybe ^Cell) vault_data:(Maybe ^Cell) context_payload:DepositContext = InMsgBody;
    </internal>

    <internal name="take_aggregated_data_withdraw">
        take_aggregated_data_withdraw#d9cf8c91 query_id:uint64 index:Coins asset_data:(Maybe ^Cell) pool_data:(Maybe ^Cell)
        vault_data:(Maybe ^Cell) context_payload:WithdrawContext = TakeAggregatedDataMsgBody;
    </internal>

    <jetton_payload name="deposit_payload" fixed_length="true">
        deposit_payload#f9471134 oracle_params:(Maybe ^Cell) forward_ton_amount:Coins forward_payload:(Maybe ^Cell) = JettonPayload;
    </jetton_payload>

    <jetton_payload name="withdraw_payload" fixed_length="true">
        withdraw_payload#cb03bfaf asset_address:MsgAddress oracle_params:(Maybe ^Cell) forward_ton_amount:Coins
        forward_payload:(Maybe ^Cell) = JettonPayload;
    </jetton_payload>
</abi>